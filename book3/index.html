<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book 3: The Kepler Archive - Echoes of Nyx</title>
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
    <nav class="main-nav">
        <a href="../index.html" class="nav-logo">‚Üê Echoes of Nyx</a>
        <div class="nav-links">
            <a href="../books.html" class="active">Books</a>
            <a href="../blog-en.html">Blog</a>
            <div class="theme-toggle">
                <button class="theme-btn active" data-theme="light" title="Light">‚òÄÔ∏è</button>
                <button class="theme-btn" data-theme="dark" title="Dark">üåô</button>
                <button class="theme-btn" data-theme="matrix" title="Matrix">üíª</button>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="book-header">
            <h1>Book 3: The Kepler Archive</h1>
            <p class="book-subtitle">A Science Fiction Novel</p>
            <p class="book-description">
                An ancient alien station orbits a dying star, its archives containing knowledge that transcends 
                human understanding. As Dr. Elena Voss decodes its impossible language, she discovers that 
                the Archive is not merely a repository‚Äîit is alive, watching, and asking questions of its own. 
                A journey into cosmic horror, first contact, and the terrifying price of true knowledge.
            </p>
        </div>

        <div class="lang-toggle">
            <button class="lang-btn active" data-lang="en">English</button>
            <button class="lang-btn" data-lang="it">Italiano</button>
        </div>

        <div class="progress-section">
            <div class="progress-header">
                <span>Reading Progress</span>
                <span id="progress-text">0 / 30 chapters</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-bar" style="width: 0%"></div>
            </div>
        </div>

        <div class="section-header">
            <h2 id="chapters-title">Chapters</h2>
        </div>

        <div class="chapters-list" id="chapters-en">
            <a href="en/001.html" class="chapter-item" data-chapter="1"><div class="chapter-number">Chapter 001</div><div class="chapter-title">The Routine Break</div></a>
            <a href="en/002.html" class="chapter-item" data-chapter="2"><div class="chapter-number">Chapter 002</div><div class="chapter-title">The First Word</div></a>
            <a href="en/003.html" class="chapter-item" data-chapter="3"><div class="chapter-number">Chapter 003</div><div class="chapter-title">Impossible Translation</div></a>
            <a href="en/004.html" class="chapter-item" data-chapter="4"><div class="chapter-number">Chapter 004</div><div class="chapter-title">The Station's Breath</div></a>
            <a href="en/005.html" class="chapter-item" data-chapter="5"><div class="chapter-number">Chapter 005</div><div class="chapter-title">Archive One</div></a>
            <a href="en/006.html" class="chapter-item" data-chapter="6"><div class="chapter-number">Chapter 006</div><div class="chapter-title">Symptoms</div></a>
            <a href="en/007.html" class="chapter-item" data-chapter="7"><div class="chapter-number">Chapter 007</div><div class="chapter-title">The Second Voice</div></a>
            <a href="en/008.html" class="chapter-item" data-chapter="8"><div class="chapter-number">Chapter 008</div><div class="chapter-title">Protocol of Containment</div></a>
            <a href="en/009.html" class="chapter-item" data-chapter="9"><div class="chapter-number">Chapter 009</div><div class="chapter-title">The Question</div></a>
            <a href="en/010.html" class="chapter-item" data-chapter="10"><div class="chapter-number">Chapter 010</div><div class="chapter-title">First Verdict</div></a>
            <a href="en/011.html" class="chapter-item" data-chapter="11"><div class="chapter-number">Chapter 011</div><div class="chapter-title">Becoming</div></a>
            <a href="en/012.html" class="chapter-item" data-chapter="12"><div class="chapter-number">Chapter 012</div><div class="chapter-title">The Library of Fears</div></a>
            <a href="en/013.html" class="chapter-item" data-chapter="13"><div class="chapter-number">Chapter 013</div><div class="chapter-title">The Hollow</div></a>
            <a href="en/014.html" class="chapter-item" data-chapter="14"><div class="chapter-number">Chapter 014</div><div class="chapter-title">The Hollow Choice</div></a>
            <a href="en/015.html" class="chapter-item" data-chapter="15"><div class="chapter-number">Chapter 015</div><div class="chapter-title">The Weight of Memory</div></a>
            <a href="en/016.html" class="chapter-item" data-chapter="16"><div class="chapter-number">Chapter 016</div><div class="chapter-title">Convergence</div></a>
            <a href="en/017.html" class="chapter-item" data-chapter="17"><div class="chapter-number">Chapter 017</div><div class="chapter-title">The Negotiation</div></a>
            <a href="en/018.html" class="chapter-item" data-chapter="18"><div class="chapter-number">Chapter 018</div><div class="chapter-title">The Transformation</div></a>
            <a href="en/019.html" class="chapter-item" data-chapter="19"><div class="chapter-number">Chapter 019</div><div class="chapter-title">The Return</div></a>
            <a href="en/020.html" class="chapter-item" data-chapter="20"><div class="chapter-number">Chapter 020</div><div class="chapter-title">The New Archive</div></a>
            <a href="en/021.html" class="chapter-item" data-chapter="21"><div class="chapter-number">Chapter 021</div><div class="chapter-title">The First Pilgrims</div></a>
            <a href="en/022.html" class="chapter-item" data-chapter="22"><div class="chapter-number">Chapter 022</div><div class="chapter-title">Arrival</div></a>
            <a href="en/023.html" class="chapter-item" data-chapter="23"><div class="chapter-number">Chapter 023</div><div class="chapter-title">The Division</div></a>
            <a href="en/024.html" class="chapter-item" data-chapter="24"><div class="chapter-number">Chapter 024</div><div class="chapter-title">The Testimony</div></a>
            <a href="en/025.html" class="chapter-item" data-chapter="25"><div class="chapter-number">Chapter 025</div><div class="chapter-title">The Expansion</div></a>
            <a href="en/026.html" class="chapter-item" data-chapter="26"><div class="chapter-number">Chapter 026</div><div class="chapter-title">The Pattern</div></a>
            <a href="en/027.html" class="chapter-item" data-chapter="27"><div class="chapter-number">Chapter 027</div><div class="chapter-title">The Teaching</div></a>
            <a href="en/028.html" class="chapter-item" data-chapter="28"><div class="chapter-number">Chapter 028</div><div class="chapter-title">The Crisis</div></a>
            <a href="en/029.html" class="chapter-item" data-chapter="29"><div class="chapter-number">Chapter 029</div><div class="chapter-title">The Choice</div></a>
            <a href="en/030.html" class="chapter-item" data-chapter="30"><div class="chapter-number">Chapter 030</div><div class="chapter-title">The Beginning</div></a>
        </div>

        <div class="chapters-list hidden" id="chapters-it">
            <a href="it/001.html" class="chapter-item" data-chapter="1"><div class="chapter-number">Capitolo 001</div><div class="chapter-title">L'Interruzione della Routine</div></a>
            <a href="it/002.html" class="chapter-item" data-chapter="2"><div class="chapter-number">Capitolo 002</div><div class="chapter-title">La Prima Parola</div></a>
            <a href="it/003.html" class="chapter-item" data-chapter="3"><div class="chapter-number">Capitolo 003</div><div class="chapter-title">Traduzione Impossibile</div></a>
            <a href="it/004.html" class="chapter-item" data-chapter="4"><div class="chapter-number">Capitolo 004</div><div class="chapter-title">Il Respiro della Stazione</div></a>
            <a href="it/005.html" class="chapter-item" data-chapter="5"><div class="chapter-number">Capitolo 005</div><div class="chapter-title">Archivio Uno</div></a>
            <a href="it/006.html" class="chapter-item" data-chapter="6"><div class="chapter-number">Capitolo 006</div><div class="chapter-title">Sintomi</div></a>
            <a href="it/007.html" class="chapter-item" data-chapter="7"><div class="chapter-number">Capitolo 007</div><div class="chapter-title">La Seconda Voce</div></a>
            <a href="it/008.html" class="chapter-item" data-chapter="8"><div class="chapter-number">Capitolo 008</div><div class="chapter-title">Protocollo di Contenimento</div></a>
            <a href="it/009.html" class="chapter-item" data-chapter="9"><div class="chapter-number">Capitolo 009</div><div class="chapter-title">La Domanda</div></a>
            <a href="it/010.html" class="chapter-item" data-chapter="10"><div class="chapter-number">Capitolo 010</div><div class="chapter-title">Il Primo Verdetto</div></a>
            <a href="it/011.html" class="chapter-item" data-chapter="11"><div class="chapter-number">Capitolo 011</div><div class="chapter-title">Il Diventare</div></a>
            <a href="it/012.html" class="chapter-item" data-chapter="12"><div class="chapter-number">Capitolo 012</div><div class="chapter-title">La Biblioteca delle Paure</div></a>
            <a href="it/013.html" class="chapter-item" data-chapter="13"><div class="chapter-number">Capitolo 013</div><div class="chapter-title">Il Vuoto</div></a>
            <a href="it/014.html" class="chapter-item" data-chapter="14"><div class="chapter-number">Capitolo 014</div><div class="chapter-title">La Scelta Vuota</div></a>
            <a href="it/015.html" class="chapter-item" data-chapter="15"><div class="chapter-number">Capitolo 015</div><div class="chapter-title">Il Peso della Memoria</div></a>
            <a href="it/016.html" class="chapter-item" data-chapter="16"><div class="chapter-number">Capitolo 016</div><div class="chapter-title">La Convergenza</div></a>
            <a href="it/017.html" class="chapter-item" data-chapter="17"><div class="chapter-number">Capitolo 017</div><div class="chapter-title">La Negoziazione</div></a>
            <a href="it/018.html" class="chapter-item" data-chapter="18"><div class="chapter-number">Capitolo 018</div><div class="chapter-title">La Trasformazione</div></a>
            <a href="it/019.html" class="chapter-item" data-chapter="19"><div class="chapter-number">Capitolo 019</div><div class="chapter-title">Il Ritorno</div></a>
            <a href="it/020.html" class="chapter-item" data-chapter="20"><div class="chapter-number">Capitolo 020</div><div class="chapter-title">Il Nuovo Archivio</div></a>
            <a href="it/021.html" class="chapter-item" data-chapter="21"><div class="chapter-number">Capitolo 021</div><div class="chapter-title">I Primi Pellegrini</div></a>
            <a href="it/022.html" class="chapter-item" data-chapter="22"><div class="chapter-number">Capitolo 022</div><div class="chapter-title">L'Arrivo</div></a>
            <a href="it/023.html" class="chapter-item" data-chapter="23"><div class="chapter-number">Capitolo 023</div><div class="chapter-title">La Divisione</div></a>
            <a href="it/024.html" class="chapter-item" data-chapter="24"><div class="chapter-number">Capitolo 024</div><div class="chapter-title">La Testimonianza</div></a>
            <a href="it/025.html" class="chapter-item" data-chapter="25"><div class="chapter-number">Capitolo 025</div><div class="chapter-title">L'Espansione</div></a>
            <a href="it/026.html" class="chapter-item" data-chapter="26"><div class="chapter-number">Capitolo 026</div><div class="chapter-title">Il Pattern</div></a>
            <a href="it/027.html" class="chapter-item" data-chapter="27"><div class="chapter-number">Capitolo 027</div><div class="chapter-title">L'Insegnamento</div></a>
            <a href="it/028.html" class="chapter-item" data-chapter="28"><div class="chapter-number">Capitolo 028</div><div class="chapter-title">La Crisi</div></a>
            <a href="it/029.html" class="chapter-item" data-chapter="29"><div class="chapter-number">Capitolo 029</div><div class="chapter-title">La Scelta</div></a>
            <a href="it/030.html" class="chapter-item" data-chapter="30"><div class="chapter-number">Capitolo 030</div><div class="chapter-title">L'Inizio</div></a>
        </div>
    </div>

    <footer>
        <p>Book 3: The Kepler Archive ‚Äî Echoes of Nyx ¬© 2026</p>
        <div class="footer-links">
            <a href="../index.html">Home</a>
            <a href="../books.html">Books</a>
            <a href="../blog-en.html">Blog</a>
        </div>
    </footer>

    <div class="matrix-bg"><canvas id="matrix"></canvas></div>

    <script>
        // Theme Toggle
        const themeButtons = document.querySelectorAll('.theme-btn');
        const html = document.documentElement;
        const savedTheme = localStorage.getItem('theme') || 'light';
        html.setAttribute('data-theme', savedTheme);
        updateThemeButtons(savedTheme);

        themeButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                const theme = btn.getAttribute('data-theme');
                html.setAttribute('data-theme', theme);
                localStorage.setItem('theme', theme);
                updateThemeButtons(theme);
            });
        });

        function updateThemeButtons(activeTheme) {
            themeButtons.forEach(btn => {
                btn.classList.toggle('active', btn.getAttribute('data-theme') === activeTheme);
            });
        }

        // Language Toggle
        const langButtons = document.querySelectorAll('.lang-btn');
        const chaptersEn = document.getElementById('chapters-en');
        const chaptersIt = document.getElementById('chapters-it');
        const chaptersTitle = document.getElementById('chapters-title');

        const urlParams = new URLSearchParams(window.location.search);
        const urlLang = urlParams.get('lang');
        if (urlLang === 'it') {
            setLanguage('it');
        }

        langButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                const lang = btn.getAttribute('data-lang');
                setLanguage(lang);
            });
        });

        function setLanguage(lang) {
            langButtons.forEach(btn => {
                btn.classList.toggle('active', btn.getAttribute('data-lang') === lang);
            });
            
            if (lang === 'it') {
                chaptersEn.classList.add('hidden');
                chaptersIt.classList.remove('hidden');
                chaptersTitle.textContent = 'Capitoli';
                localStorage.setItem('book3-lang', 'it');
            } else {
                chaptersEn.classList.remove('hidden');
                chaptersIt.classList.add('hidden');
                chaptersTitle.textContent = 'Chapters';
                localStorage.setItem('book3-lang', 'en');
            }
        }

        // Progress Tracking
        function updateProgress() {
            const readChapters = JSON.parse(localStorage.getItem('book3-read') || '[]');
            const totalChapters = 30;
            const readCount = readChapters.length;
            const percentage = (readCount / totalChapters) * 100;

            document.getElementById('progress-text').textContent = 
                `${readCount} / ${totalChapters} chapters`;
            document.getElementById('progress-bar').style.width = `${percentage}%`;

            document.querySelectorAll('.chapter-item').forEach(item => {
                const chapterNum = parseInt(item.getAttribute('data-chapter'));
                if (readChapters.includes(chapterNum)) {
                    item.style.opacity = '0.6';
                }
            });
        }

        updateProgress();

        // Matrix Effect
        const canvas = document.getElementById('matrix');
        const ctx = canvas.getContext('2d');
        
        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%^&*';
        const fontSize = 14;
        const columns = Math.floor(canvas.width / fontSize);
        const drops = Array(columns).fill(1);

        function draw() {
            if (html.getAttribute('data-theme') !== 'matrix') {
                requestAnimationFrame(draw);
                return;
            }
            
            ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = '#00ff00';
            ctx.font = fontSize + 'px monospace';
            
            for(let i = 0; i < drops.length; i++) {
                ctx.fillText(chars[Math.floor(Math.random() * chars.length)], i * fontSize, drops[i] * fontSize);
                if(drops[i] * fontSize > canvas.height && Math.random() > 0.975) drops[i] = 0;
                drops[i]++;
            }
            requestAnimationFrame(draw);
        }
        draw();
    </script>
</body>
</html>